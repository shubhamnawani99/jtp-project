{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Select 5 books and ratings to get started{% endblock %}</h1>

{% endblock %}

{% block content %}
<form method="post">

    <select name="book-choice">
        {% for book in books %}
        <option value="{{ book['title'] }}">{{ book['title'] }}</option>
        {% endfor %}
    </select>
    <select name="book-rating" required>
        {% for num in range(1,6) %}
        <option value="{{ num }}">{{ num }}</option>
        {% endfor %}
    </select>
    {% if length < 5 %}
    <input name="select-form" type="submit" value="Select">
    {% else %}
    <input name="select-form" type="submit" value="Select" disabled>
    {% endif %}

</form>

{% if current_list %}
<div class="container">
    <table>
        <thead>
        <th>Book Selected</th>
        <th>Rating given</th>
        </thead>
        <tbody>
        {% for book, rating in current_list.items() %}
        <tr>
            <td>{{ book }}</td>
            <td>{{ rating }}</td>
            <td>
                <form method="post" action = "{{ url_for('controller.delete') }}" >
                    <button name="del-item" type="submit" value="{{ book }}">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}

{% if length >= 5 %}
<div>
    <form method="post">
        <input name="process-form" type="submit" value="Recommend me books!">
    </form>
</div>
{% endif %}

<div>
    <a href="{{ url_for('controller.clear_selections') }}" value="Reset all values">Reset all values</a>
</div>

{% endblock %}